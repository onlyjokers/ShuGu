{
  "kind": "node-graph",
  "version": 1,
  "title": "Load Audio From Assets (Timeline/Loop/Play) → Audio Patch to Client",
  "purpose": "体验 Load Audio From Assets 的 Timeline（双游标 + playhead）+ Loop + Play(Pause) + Reverse + Seek，并让它仅播放片段（不重新加载音频）",
  "notes": [
    "需要你先在 Manager 的 Assets Manager 页面上传一个音频文件。",
    "Manager 需要配置 `shugu-server-url` + `shugu-asset-write-token`（用于列出 assets）。",
    "Start/End 端口是 number：可以接 MIDI Map 等数值节点进行精确控制。"
  ],
  "howTo": [
    "1) client 点 Start（启用 ToneAudioEngine）。",
    "2) manager Node Graph 点 ▶ Start。",
    "3) 在 Load Audio From Assets 里选择一个已上传的音频资产。",
    "4) 拖动 Timeline 双游标选择片段；拖动 playhead 可 seek。",
    "5) Loop：循环片段；Play：false 暂停，true 恢复；Reverse：倒放。",
    "6) 在图里用 Client 节点选定目标，并把 Audio Patch to Client(Deploy) 连到 Client(In)。"
  ],
  "graph": {
    "nodes": [
      {
        "id": "node-load-audio",
        "type": "load-audio-from-assets",
        "position": { "x": 120, "y": 180 },
        "config": {
          "assetId": "",
          "playbackRate": 1,
          "detune": 0,
          "bus": "main",
          "timeline": { "startSec": 0, "endSec": -1, "cursorSec": -1 }
        },
        "inputValues": {
          "startSec": 0,
          "endSec": -1,
          "cursorSec": -1,
          "loop": false,
          "play": true,
          "reverse": false,
          "playbackRate": 1,
          "detune": 0,
          "bus": "main"
        },
        "outputValues": {}
      },
      {
        "id": "node-audio-out",
        "type": "audio-out",
        "position": { "x": 820, "y": 180 },
        "config": {},
        "inputValues": {},
        "outputValues": {}
      },
      {
        "id": "node-client",
        "type": "client-object",
        "position": { "x": 820, "y": 320 },
        "config": { "clientId": "" },
        "inputValues": { "index": 1, "range": 1, "random": false },
        "outputValues": {}
      }
    ],
    "connections": [
      {
        "id": "conn-load-audio-to-out",
        "sourceNodeId": "node-load-audio",
        "sourcePortId": "ref",
        "targetNodeId": "node-audio-out",
        "targetPortId": "in"
      },
      {
        "id": "conn-audio-out-to-client",
        "sourceNodeId": "node-audio-out",
        "sourcePortId": "cmd",
        "targetNodeId": "node-client",
        "targetPortId": "in"
      }
    ]
  }
}
