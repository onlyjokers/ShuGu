现在 client 和 manager 中的 node 系统有2份，如果我 manager 里对 node 系统做出了更新，client 里肯定接不到，导致引起错误。

好，既然这是2套系统，这肯定存在着一些问题...我相信更优雅的解决方案是不维护2套系统，而实现一个 nodeCore 系统，在 client 上运行的就是这个版本（为了保证未来的还是实现一个 nodeClient（继承自nodeCore），但是现阶段为了保证精简和可运行性，应该要和 nodeCore 差不多），它保证了node 系统的运行，唯一的能力也就是保证 node 能正常运行；而 nodeManager  继承自nodeCore，是 nodeCore 的超集，它实现了例如 UI 、Registry MIDI、模板导入导出等等一系列高阶功能。

而具体到实现，我有几点看法和建议，很有可能是错的，仅供参考，你得综合判断：
1. 而从现在的情况来看，manager 的 node 系统应该是优于 client 的，是不是得先从 manager 中抽象出来一个 nodeCore，然后再让 nodeClient 和 nodeManager 继承这个 nodeCore 
2. 如果选择我上面给出的方案，到底抽象多少算是好的抽象，这个量得保证——总之，考虑到未来的更新，对于运行来说必要的都得在 core 里，但是也得保证精简，毕竟要在移动端上运行。
3.  core 和 manager、client 的实现时继承还是组合？请你判断最好的选择
4. nodeCore、nodeClient、nodeManager 是我为了方便起的名字，你应该遵循项目的命名方式，和代码格式来命名，而不是我这里写的

请你仔细分析我的代码，做深入判断，每一点都要明明白白的，然后给我出具详细的报告，告诉我要怎么实现我要的效果，这种实现的优缺点是什么？有没有什么危险？你的报告要求事无巨细，代码保持解偶性，保持高性能，不破坏现在的系统设计。 最后再给我一个一步步的实现计划， 还有每个计划需要给 Vibe Codeing Agent 的提示词，也是要求事无巨细。